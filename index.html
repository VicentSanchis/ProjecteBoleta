
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<link href="assets/images/favicon.png" rel="icon"/>
<meta content="mkdocs-1.5.3, mkdocs-material-9.5.12" name="generator"/>
<title>Rescat a Proxima Centauri</title>
<link href="assets/stylesheets/main.7e359304.min.css" rel="stylesheet"/>
<link href="assets/stylesheets/palette.06af60db.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
<link href="stylesheet/extra.css" rel="stylesheet"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/mermaid/7.0.9/mermaid.neutral.css" rel="stylesheet"/>
<script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
</head>
<body data-md-color-accent="indigo" data-md-color-primary="indigo" data-md-color-scheme="default" dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#rescat-a-proxima-centauri">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header md-header--shadow" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="Rescat a Proxima Centauri" class="md-header__button md-logo" data-md-component="logo" href="." title="Rescat a Proxima Centauri">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"></path></svg>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            Rescat a Proxima Centauri
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              Index
            
          </span>
</div>
</div>
</div>
<form class="md-header__option" data-md-component="palette">
<input aria-label="Switch to dark mode" class="md-option" data-md-color-accent="indigo" data-md-color-media="(prefers-color-scheme: light)" data-md-color-primary="indigo" data-md-color-scheme="default" id="__palette_0" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_1" hidden="" title="Switch to dark mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 18V6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-2.69L23.31 12 20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69Z"></path></svg>
</label>
<input aria-label="Switch to system preference" class="md-option" data-md-color-accent="white" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-primary="black" data-md-color-scheme="slate" id="__palette_1" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_0" hidden="" title="Switch to system preference">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 18V6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-2.69L23.31 12 20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69Z"></path></svg>
</label>
</form>
<script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" title="Clear" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"></path></svg>
</button>
</nav>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list" role="presentation"></ol>
</div>
</div>
</div>
</div>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary md-nav--integrated" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="Rescat a Proxima Centauri" class="md-nav__button md-logo" data-md-component="logo" href="." title="Rescat a Proxima Centauri">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"></path></svg>
</a>
    Rescat a Proxima Centauri
  </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
<span class="md-ellipsis">
    Index
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href=".">
<span class="md-ellipsis">
    Index
  </span>
</a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#introduccio">
<span class="md-ellipsis">
      Introducci√≥
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#consideracions-inicials">
<span class="md-ellipsis">
      Consideracions inicials
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#desenvolupament-de-classes">
<span class="md-ellipsis">
      Desenvolupament de classes
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#classe-animator-reutilitzacio-de-classes">
<span class="md-ellipsis">
      Classe Animator - Reutilitzaci√≥ de classes
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1 id="rescat-a-proxima-centauri">Rescat a Pr√≤xima Centauri</h1>
<h2 id="introduccio">Introducci√≥</h2>
<p>El projecte <strong>Rescat a Pr√≤xima Centauri</strong>, √©s un projecte per a aprendre a programar en Java utilitzant l‚Äôentorn de desenvolupament <strong>Processing IDE</strong> on b√†sicament simularem un joc tipus <strong>accelerador</strong> que es dividir√† en pantalles, enregistrar√† una puntuaci√≥ segons els nivells que es superen i els enemics que s‚Äôeliminen a m√©s a m√©s de totes les funcions cl√†ssiques d‚Äôaquest tipus de joc.</p>
<p><center>
<img src="./assets/Portada.jpg" width="80%"/>
</center></p>
<h2 id="consideracions-inicials">Consideracions inicials</h2>
<p><strong>1. El joc:</strong> una nau de la federaci√≥ interestel¬∑lar de comer√ß ha d‚Äôarribar de la terra a Plut√≥ per des d‚Äôall√† i per mitj√† d‚Äôun portal multidimensional, viatjar a el sistema ¬´Alpha Centauri¬ª que es troba a 4,37 anys llum del sistema solar. En aquest sistema es troba el planeta ¬´Pr√≤xima Centauri b¬ª on es troba la base ¬´Minotaure¬ª que ha sigut atacada per naus alien√≠genes. La nostra missi√≥ √©s arribar sans i estalvis a les proximitats de la base per protegir-la.</p>
<p><strong>2. El personatge:</strong> es tracta d‚Äôuna nau espacial model T800X que per tal de no ser destru√Øda es pot moure en les quatre direccions, disparar projectils o l√†sers que destrueixen els enemics o desviar els meteorits. Aquesta nau t√© una vida limitada i es pot veure afectada pels projectils de les naus enemigues, pels camps de mines, o pels meteorits i altres obstacles que es pot trobar pel cam√≠. Cada impacte d‚Äôalgun d‚Äôaquests elements restar√† vida a la nau, si el percentatge de vida arriba a zero, es perd la partida.</p>
<p><center>
<img src="./assets/SpaceShip.gif" width="30%"/>
</center></p>
<p><strong>3. Els enemics:</strong> ens podem trobar tres tipus d‚Äôenemics diferents, els kamikaze que s√≥n enemics que no poden disparar per√≤ poden xocar contra nosaltres i llevar-nos vida, el fet de no poder disparar fa que aquests enemics siguen m√©s r√†pids i imprevisibles. Despr√©s tenim els interceptors que disparen m√≠ssils amb m√©s o menys freq√º√®ncia i que amb les col¬∑lisions d‚Äôaquests, resten vida al personatge. Finalment tamb√© tindrem els miners que s√≥n enemics que es dediquen a posar mines de forma aleat√≤ria per l‚Äôespai, en cas de xocar contra algun d‚Äôaquests enemics, tant la nostra nau com l‚Äôenemic quedarien destru√Øts produint una gran explosi√≥.</p>
<p><center>
<img src="./assets/Enemies.jpg" width="80%"/>
</center></p>
<p><strong>4. Els monstres finals:</strong> com hem explicat abans, al final de cada fase apareixer√† un enemic de m√©s entitat, els monstres finals de pantalla. En aquestes parts del joc s‚Äôobrir√† una esp√®cie de batalla final amb un enemic de m√©s entitat al qual haurem de v√®ncer si volem superar el nivell.</p>
<p><strong>5. Els acceleradors:</strong> s√≥n elements addicionals del joc que ajuden al nostre personatge. Podem trobar acceleradors que incrementen el nivell de vida, que incrementen la potencia del dispar o que donen algun tipus de protecci√≥ temporal a la nostra nau tipus escut.</p>
<p><strong>6. Els meteorits:</strong> obstacles neutres en forma de  roca que es mouen per l‚Äôespai de forma aleat√≤ria. Si algun d‚Äôaquestes roques xoca contra la nostra nau o contra un enemic, depenent de la seua capacitat de destrucci√≥ li llevar√† vida i modificar√† la seua traject√≤ria segons les lleis f√≠siques de les col¬∑lisions.</p>
<p><strong>7. Les mines:</strong> objectes llen√ßats per un tipus d‚Äôenemic especial tipus miner. Aquest obstacle es mant√© est√†tic a l‚Äôescenari del nostre joc per√≤ s√≥n molt perilloses ja que si xoquem contra alguna d‚Äôelles ens eliminar√† del joc.</p>
<p><strong>8. Els HUD (head-Up Display):</strong> tamb√© conegut com barra d‚Äôestat. Mostra tota la informaci√≥ necess√†ria durant la partida com per exemple: vides, punts, nivell, salut, armadura,  mini mapa entre altres..  En el nostre cas seria interessant mostrar la informaci√≥ de les vides restants del personatge principal, nivell o pantalla en el que es troba.</p>
<p><strong>9. Les fases:</strong> com hem explicat i basant-nos en el ¬´gui√≥¬ª del nostre joc, el viatge de la nostra nau estar√† dividida en fases on cada pantalla tindr√† uns objectius distints.</p>
<ul>
<li>
<p><strong>Nivell 1:</strong> Inici de l‚Äôexpedici√≥. Pantalla simple on l‚Äôobjectiu seria aprendre el funcionament de la nau. Com es mou, com disparar, que fan els acceleradors...</p>
</li>
<li>
<p><strong>Nivell 2:</strong> El camp de meteorits. Per arribar a Plut√≥ primer hem de passar pel cintur√≥ d‚Äôasteroides que orbita pr√≤xim a J√∫piter. Ac√≠ es posaran a prova les habilitats del nostre jugador i com de r√†pid de reflexos √©s per esquivar tots els possibles obstacles.</p>
</li>
<li><strong>Nivell 3:</strong> Arribada a Plut√≥. Quan ja hem superat els asteroides i hem arribat a Plut√≥ haurem de trobar el portal interestel¬∑lar i accedir a ell.</li>
<li><strong>Nivell 4:</strong> Viatge interestel¬∑lar. Viatjar per un forat de cuc no √©s senzill ja que les velocitats s√≥n molt altes i ens podem trobar en obstacles imprevistos que s‚Äôhaurien d‚Äôesquivar per√≤ sense perdre la traject√≤ria pr√®viament calculada que es portaria en perdre'ns per la profunditat de l‚Äôespai.</li>
<li><strong>Nivell 5:</strong> Arribada a Pr√≤xima Centauri. Finalitzat el viatge interestel¬∑lar i arribats a les proximitats del planeta, hem de buscar la finestra d‚Äôentrada m√©s a prop de la base que est√† sent atacada. En aquest viatge apareixeran els primers enemics alien√≠genes que haurem de matar.</li>
<li><strong>Nivell 6:</strong> Primera l√≠nia de protecci√≥. Quan ja hem trobat la finestra d‚Äôentrada al planeta, ens trobarem amb la sorpresa que aquesta t√© un esquadr√≥ de naus enemics que vigilen per si de cas. Hem de destruir-les el m√©s r√†pid possible abans que avisen al quarter general i poder travessar la finestra.</li>
<li><strong>Nivell 7:</strong> Escut de defensa del planeta. Una vegada passada la finestra d‚Äôentrada ens trobarem amb que el planeta est√† fortament defensat per un escut d‚Äôenemics que intentaran destruir-nos abans que arribem pr√≤xims a la superf√≠cie.</li>
<li><strong>Nivell 8:</strong> Viatge a la base. Superat l‚Äôescut de defensa, hem d‚Äôarribar a la base atacada.</li>
<li><strong>Nivell 9:</strong> El rescat de la base. Finalment ja nom√©s ens quedaria alliberar la base de totes les naus alien√≠genes que l‚Äôestan atacant per restablir la normalitat.</li>
<li><strong>Nivell 10:</strong> Lliure per a l'alumne.</li>
</ul>
<h2 id="desenvolupament-de-classes">Desenvolupament de classes</h2>
<p>La primera activitat que has de fer en aquest projecte √©s una activitat molt b√†sica i senzilla per comen√ßar. Es tracta que basan-te en l'enunciat anterior identifiques les classes i crees el projecte amb tots aquells fitxers buits que el formaran en un futur.</p>
<p>Per exemple:</p>
<div class="mermaid">    graph TD
        A[üìÅProximaCentauri] --&gt; B[üß©ProximaCentauri.pde]
        A --&gt; C[‚òï Player.java]
        A --&gt; D[‚òï Enemic.java]
        A --&gt; E[‚òï HUD.java]
        A --&gt; H[‚òï Obstacle.java]
        A --&gt; I[...]
</div>
<details class="question">
<summary>Activitat P01. Identificaci√≥ de classes i estructura</summary>
<p>üìå Analitzar el joc i identificar quins elements del joc es poden convertir en classes.
Per exemple:</p>
<ul>
<li>Player</li>
<li>Enemic</li>
<li>Meteorit</li>
<li>Accelerador</li>
<li>HUD</li>
<li>Dispar</li>
</ul>
<p><strong>Objectiu:</strong> Documentar quines parts del joc serien classes, quin ser√† el seu estat i comportament.</p>
<p><strong>Entregable:</strong> Diagrama UML / llista amb atributs i m√®todes previstos.</p>
</details>
<p>Una vegada ja tenim l'estructura del nostre projecte passem a escriure el codi inicial de les classes, per√≤ com que no tenim pressa, seria millor que les classes de moment queden buides de codi</p>
<div class="admonition example">
<p class="admonition-title">Classe buida en java</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kd">class</span> <span class="nc">Buida</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Ac√≠ va el codi de la Classe</span>
<span class="p">}</span>
</code></pre></div></td></tr></table></div>
</div>
<details class="question">
<summary>Activitat P02. Crear les classes</summary>
<p>üìå Crear les classes buides.
Exemple:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kd">class</span> <span class="nc">Player</span><span class="w"> </span><span class="p">{</span>

<span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p><strong>Objectiu:</strong> Assentar la base de classes del joc amb sintaxi correcta.</p>
</details>
<p>Una vegada tenim aquestes activitats inicials ja realitzades, √©s hora de passar a <strong>picar codi</strong>. A l'activitat seg√ºent comen√ßa a escriure els atributs i m√®todes de les classes que hages decidit que ha de tindre el teu joc. En aquesta activitat √©s molt important que tingues en compte el tipus de dades dels atributs, que s√≥n procediments i que s√≥n funcions i per tant quin √©s el tipus de dades que haurien de retornar. </p>
<p>No nom√©s has de codificar els prototips dels m√®todes sino tamb√© algo de codi, encara que siga simple.</p>
<div class="admonition example">
<p class="admonition-title">Clase amb atributs i m√®todes en java</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span>
<span class="normal">9</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kd">class</span> <span class="nc">Player</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">PVector</span><span class="w"> </span><span class="n">posicio</span><span class="p">;</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">vida</span><span class="p">;</span>
<span class="w">    </span><span class="c1">// ...</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">mostrar</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{}</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">actualitzar</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{}</span>
<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div></td></tr></table></div>
</div>
<details class="question">
<summary>Activitat P03. Propietats i m√®todes</summary>
<p>üåü Afegir funcionalitats simples a les classes:</p>
<ul>
<li>mostrar(), disparar(), actualitzar() per Player</li>
<li>despla√ßar() per Enemic o Meteorit</li>
<li>mostrar() per dibuixar-les totes</li>
</ul>
<p>Al m√®tode mostrar (al qual li haur√†s de passar el PApplet com a argument) escriu que dibuixe un cercle de color negre de moment.
De moment deixa el codi del m√®tode moure de la classe Player per m√©s endavant i no poses res.</p>
<p><strong>Entregable:</strong> M√®todes que modifiquen els atributs i retornen informaci√≥ de l‚Äôestat de l‚Äôobjecte.</p>
</details>
<p>Quan ja tenim els cossos b√†sics de les nostre classes implementats, es hora de crear els constructors de les classes com hem vist al tema 6. Recorda que m√≠nim serien necessaris el constructor per defecte i almenys un constructor parametritzat per classe.</p>
<p>Aquest √©s el pas previ a la instanciaci√≥ dels objectes i ja podrem comen√ßar a veure quin √©s el resultat de tot el treball fet fins ara.</p>
<div class="admonition example">
<p class="admonition-title">Clase amb atributs i m√®todes en java</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kd">class</span> <span class="nc">Player</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">PVector</span><span class="w"> </span><span class="n">posicio</span><span class="p">;</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">vida</span><span class="p">;</span>
<span class="w">    </span><span class="c1">// ...</span>

<span class="w">    </span><span class="n">Player</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span>
<span class="w">        </span><span class="c1">// ...</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">Player</span><span class="w"> </span><span class="p">(</span><span class="c1">//Par√†metres) {</span>
<span class="w">        </span><span class="c1">// ...</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">mostrar</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{}</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">actualitzar</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{}</span>
<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div></td></tr></table></div>
</div>
<details class="question">
<summary>Activitat P04. Constructors</summary>
<p>üìå Implementar constructors a totes les classes.
Exemple:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="n">Player</span><span class="p">(</span><span class="n">PVector</span><span class="w"> </span><span class="n">pos</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">vidaInicial</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="na">vida</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">vidaInicial</span><span class="p">;</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="na">posicio</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pos</span><span class="p">.</span><span class="na">copy</span><span class="w"> </span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p><strong>Entregable:</strong> Constructors que inicialitzen objectes amb valors per defecte o personalitzats.</p>
</details>
<p>Ja podem comen√ßar a jugar amb els objectes que hem creat. A l'activitat seg√ºent posa en funcionament el programa mitjan√ßant la creaci√≥ d'objectes i la interacci√≥ amb ells. Al l'executar el codi deuria apareixer el seg√ºent:</p>
<p><center>
<img src="./assets/Player.png" style="border:1px solid gray" width="40%"/>
</center></p>
<p>S√≠, encara √©s un poc b√†sic el que fa el nostre projecte i encara no es pot interactuar amb el nostre jugador per√≤, com ja he explicat en alguna activitat anterior encara hem d'esperar un poc a implementar el m√®tode moure m√©s endvant.</p>
<details class="question">
<summary>Activitat P05. Instanciaci√≥ d'objectes</summary>
<p>üìå Crear objectes al main/loop de joc i usar els seus m√®todes.
Exemple:</p>
<ul>
<li>Crear 1 jugador (classe Player)</li>
<li>Crear una llista d‚Äôenemics (almenys 3)</li>
<li>Invocar moure(), mostrar() a cada fotograma</li>
</ul>
<p><strong>Objectiu:</strong> Mostrar interacci√≥ real entre els objectes.</p>
</details>
<p>All√≤ habitual √©s que els modificadors de visibilitat s'escriguen al mateix temps que es creen les classes, atributs i m√®todes per√≤ com que aquest projecte √©s un projecte pedag√≤gic s'ha separat en dues activitats diferents, per√≤ a partir d'ara en totes les activitats i projectes que feu √©s convenient que els modificadors de visibilitat es col¬∑loquen al mateix temps i no despr√©s (un desprop√≤sit).</p>
<div class="admonition example">
<p class="admonition-title">Clase amb atributs i m√®todes en java</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Player</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">PVector</span><span class="w"> </span><span class="n">posicio</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">vida</span><span class="p">;</span>
<span class="w">    </span><span class="c1">// ...</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">Player</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span>
<span class="w">        </span><span class="c1">// ...</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">Player</span><span class="w"> </span><span class="p">(</span><span class="c1">//Par√†metres) {</span>
<span class="w">        </span><span class="c1">// ...</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">mostrar</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{}</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">actualitzar</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{}</span>
<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div></td></tr></table></div>
</div>
<details class="question">
<summary>Activitat P06. Visibilitat i encapsulaci√≥</summary>
<p>üìå Aplicar modificadors de visibilitat (private, public).</p>
<ul>
<li>Fer privats els atributs i exposar getters/setters si cal.</li>
<li>Determinar qu√® ha de ser p√∫blic i qu√® privat a cada classe.</li>
</ul>
<p><strong>Entregable:</strong> Classes ben encapsulades, amb acc√©s controlat.</p>
</details>
<h3 id="programem-el-moviment-de-la-nau">Programem el moviment de la nau</h3>
<p>Fins ara el nostre joc no fa massa coses i ha arribat el moment de escriure el codi necessari per poder interactuar amb el nostre jugador. Com a conseq√ú√®ncia de l'entorn de desenvolupament que estem utilitzant <strong>Processing IDE</strong>, i les seues pecualiaritats, la forma m√©s eficient d'aconseguir una interacci√≥ fluida amb el nostre jugador √©s la seg√ºent.</p>
<p>Primer hem de saber quin codi hem de posar als controladors d'esdeveniments <strong>keyPressed</strong> i <strong>keyReleased</strong> del nostre fitxer principal. Amb aquestos m√®todes i la variable de l'entorn de Processing IDE <strong>keyCode</strong> hem de poder enviar missatges al nostre jugador per a que √©s moga.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="nf">keyPressed</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">keyCode</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="n">RIGHT</span><span class="p">:</span><span class="w"> </span><span class="n">player</span><span class="p">.</span><span class="na">moureDreta</span><span class="w">    </span><span class="p">(</span><span class="kc">true</span><span class="p">);</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="n">LEFT</span><span class="p">:</span><span class="w">  </span><span class="n">player</span><span class="p">.</span><span class="na">moureEsquerra</span><span class="w"> </span><span class="p">(</span><span class="kc">true</span><span class="p">);</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="n">UP</span><span class="p">:</span><span class="w">    </span><span class="n">player</span><span class="p">.</span><span class="na">moureAmunt</span><span class="w">    </span><span class="p">(</span><span class="kc">true</span><span class="p">);</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="n">DOWN</span><span class="p">:</span><span class="w">  </span><span class="n">player</span><span class="p">.</span><span class="na">moureAvall</span><span class="w">    </span><span class="p">(</span><span class="kc">true</span><span class="p">);</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">keyReleased</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">keyCode</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="n">RIGHT</span><span class="p">:</span><span class="w"> </span><span class="n">player</span><span class="p">.</span><span class="na">moureDreta</span><span class="w">    </span><span class="p">(</span><span class="kc">false</span><span class="p">);</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="n">LEFT</span><span class="p">:</span><span class="w">  </span><span class="n">player</span><span class="p">.</span><span class="na">moureEsquerra</span><span class="w"> </span><span class="p">(</span><span class="kc">false</span><span class="p">);</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="n">UP</span><span class="p">:</span><span class="w">    </span><span class="n">player</span><span class="p">.</span><span class="na">moureAmunt</span><span class="w">    </span><span class="p">(</span><span class="kc">false</span><span class="p">);</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="n">DOWN</span><span class="p">:</span><span class="w">  </span><span class="n">player</span><span class="p">.</span><span class="na">moureAvall</span><span class="w">    </span><span class="p">(</span><span class="kc">false</span><span class="p">);</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<div class="admonition warning">
<p class="admonition-title">M√™todes per moure al jugador</p>
<p>Com has pogut observar al codi anterior, hi han un m√®tode moure per a cada direcci√≥ i t√© un par√†metre de tipus boole√†. Per tant, si has ideat una classe Player amb un sol m√®tode moure, l'has de modificar i adaptar-la al codi anterior.</p>
</div>
<p>Una vegada tenim el codi del fitxer principal desenvolupat, toca saber qu√® √©s el que han de fer els diferents m√®todes moure de la classe Player. Aquestos m√®todes han de modificar uns atributs privats de tipus <strong>flag</strong> (booleans) de la classe Player que s√≥n: <strong>up, down, left i right</strong> i que haur√†s d'afegir a la teua classe a la secci√≥ d'atributs.</p>
<p>Una vegada ja tens aquestos atributs, que per defecte s'inicialitzen a false, els m√®todes per a moure al jugador han de fer el seg√ºent:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="w"> </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">moureAvall</span><span class="w"> </span><span class="p">(</span><span class="kt">boolean</span><span class="w"> </span><span class="n">estat</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">down</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">estat</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>Qu√® aconseguim amb a√ß√≤? Amb aquest codi aconseguim que quan premem una tecla de direcci√≥ al nostre teclat, s'activa autom√†ticament la variable d'estat del Player que indica que ha d'anar en eixa direcci√≥ (dir=true) i quan soltem alguna de les tecles de direcci√≥ el programa li indica a la nostra classe que ha de parar d'anar en eixa direcci√≥ (dir=false).</p>
<p>Significa aix√≤ que la nostra nau ja es mou per l'escenari? No, ecara no. Encara ens queda aplicar eixos flags a moviment real dins del m√®tode actualitzar de la classe Player que si no has implementat, ho haur√†s de fer.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">actualitzar</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Resetejem la direcci√≥</span>
<span class="w">    </span><span class="n">direccio</span><span class="p">.</span><span class="na">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// Actualitzem l'estat de la direcci√≥</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">up</span><span class="w">   </span><span class="p">)</span><span class="w"> </span><span class="n">direccio</span><span class="p">.</span><span class="na">y</span><span class="w"> </span><span class="o">-=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">down</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="n">direccio</span><span class="p">.</span><span class="na">y</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">left</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="n">direccio</span><span class="p">.</span><span class="na">x</span><span class="w"> </span><span class="o">-=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">right</span><span class="p">)</span><span class="w"> </span><span class="n">direccio</span><span class="p">.</span><span class="na">x</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// Si hi ha moviment</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">direccio</span><span class="p">.</span><span class="na">mag</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">direccio</span><span class="p">.</span><span class="na">normalize</span><span class="w"> </span><span class="p">();</span>
<span class="w">      </span><span class="n">velocitat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">PVector</span><span class="p">.</span><span class="na">mult</span><span class="w"> </span><span class="p">(</span><span class="n">direccio</span><span class="p">,</span><span class="w"> </span><span class="n">velocitatEscalar</span><span class="p">);</span>
<span class="w">      </span><span class="n">posicio</span><span class="p">.</span><span class="na">add</span><span class="w"> </span><span class="p">(</span><span class="n">velocitat</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>A continuaci√≥ implementarem la interacci√≥ de l'usuari amb la nau i tamb√© ampliarem el nostre ventall d'enemics utilitzant el mecanisme de l'her√®ncia des d'un punt de vista b√†sic com hem vist al tema 6. Has de fer que cada enemic es mostre de forma diferent.</p>
<details class="question">
<summary>Activitat P07. Her√®ncia i classes</summary>
<p>üìå Fer que alguns tipus d‚Äôenemics siguin subclasses d‚Äôuna classe base Enemic.
Exemple:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">EnemicKamikaze</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">Enemic</span><span class="w"> </span><span class="p">{</span><span class="err">‚Ä¶</span><span class="p">}</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">EnemicInterceptor</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">Enemic</span><span class="w"> </span><span class="p">{</span><span class="err">‚Ä¶</span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p><strong>Objectiu:</strong> Reutilitzar codi i especialitzar comportaments.</p>
</details>
<p>Ara has d'incorporar la classe Fisica2D al teu projecte si consideres que pot ser √∫til i tamb√© afegir una nova classe, <strong>Utils</strong> per exemple amb all√≤ que consideres que podria ser interessant per al teu projecte.</p>
<details class="question">
<summary>Activitat P08. M√®todes est√†tics</summary>
<p>üìå Crear utilitats comunes, p. ex.:</p>
<ul>
<li>Classe Util amb m√®todes est√†tics per calcular col¬∑lisions</li>
<li>Comptador de puntuacions globals</li>
</ul>
<p><strong>Entregable:</strong> M√®todes static que no depenen d‚Äôinst√†ncies.</p>
</details>
<p>Quines interf√≠cies consideres que es podrien adatpar al projecte "Proxima Centauri". Quines classes o quins objectes s√≥n susceptibles de tindre associada una interf√≠cies.</p>
<details class="question">
<summary>Activitat P09. Interf√≠cies</summary>
<p>Definir interf√≠cies com Movible, Destruible que puguin implemenMarcadortar classes com Enemic, Meteorito.</p>
<p><strong>Objectiu:</strong> Fer que diferents classes comparteixin comportament com√∫.</p>
</details>
<p>Una de les caracter√≠stiques m√©s importants de la programaci√≥ orientada a objectes √©s la <strong>reutilitzaci√≥</strong> del codi. A continuaci√≥ incorporarem dues classes ja creades, <strong>Animator</strong> i <strong>Marcador</strong>, per un costat per poder animar els personatges del nostre joc i per l'altre per poder tindre un HUD m√©s complet amb un marcador que mostra alguna informaci√≥ de l'estat del joc. </p>
<h2 id="classe-animator-reutilitzacio-de-classes">Classe Animator - Reutilitzaci√≥ de classes</h2>
<p>Fins ara els elements que hem usat per fer el nostre joc de la boleta s√≥n figures geom√®triques est√†tiques el que fa que en general siga un poc avorrit. En aquest seg√ºent apartat aprendrem com convertir els nostres objectes en figures animades. Aprofitant una de les caracter√≠stiques principals del paradigma de Programaci√≥ Orientada a Objectes, la reutilitzaci√≥ del codi, incorporarem una nova classe al nostre joc: la classe <strong>Animation</strong> que podeu descarregar <a href="assets/Animation.pde">Ac√≠</a>. Aquesta classe ens permet mitjan√ßant l'√∫s de <strong>sprite sheets</strong> crear animacions per al nostre personatge com la seg√ºent:</p>
<p><center>
<img alt="Exemple d'√∫s de la classe Animation" src="assets/Trump.gif" style="height:250px;border:1px solid silver;">
</img></center></p>
<p>Utilitzar aquesta classe √©s relativament senzill:</p>
<ol>
<li>Incorporem la classe al nostre projecte copiant-la a la mateixa carpeta com una classe pr√≤pia m√©s.</li>
<li>Declarem un atribut Animation a qualsevol classe del nostre projecte que volem animar.</li>
<li>Al constructor de la classe que volem animar instanciem l'objecte animation seguint les instruccions de la classe.</li>
</ol>
<h3 id="exemple-dus-de-la-classe-animation">Exemple d'√∫s de la classe Animation</h3>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="n">Animation</span><span class="w"> </span><span class="n">trump</span><span class="p">;</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">setup</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">size</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span><span class="mi">200</span><span class="p">);</span>
<span class="w">    </span><span class="n">trump</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Animation</span><span class="w"> </span><span class="p">(</span><span class="s">"Trump"</span><span class="p">,</span><span class="w"> </span><span class="s">"./img/trump_run.png"</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">draw</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">clear</span><span class="p">();</span>
<span class="w">    </span><span class="n">background</span><span class="p">(</span><span class="mi">235</span><span class="p">);</span>

<span class="w">    </span><span class="n">trump</span><span class="p">.</span><span class="na">display</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">PVector</span><span class="p">(</span><span class="n">width</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="n">height</span><span class="o">/</span><span class="mi">2</span><span class="p">),</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span>
<span class="w">    </span><span class="n">trump</span><span class="p">.</span><span class="na">update</span><span class="p">();</span>
<span class="p">}</span><span class="w"> </span>
</code></pre></div></td></tr></table></div>
<p>Senzill no? Per√≤ com aconseguim que la nostra boleta es convertisca en un personatge animat com el de l'exemple anterior? Hem d'afegir un nou atribut a la nostra classe Boleta, aquest nou membre s'instanciar√† al constructor de la classe Boleta i finalment al m√®tode mostrar de la boleta √©s on cridarem al m√®tode display de l'animaci√≥, finalment al m√®tode actualitza de la boleta √©s des d'on cridarem al m√®tode update de l'animaci√≥.</p>
<p>Per√≤ abans d'anar per feina, observem b√© l'spritesheet:</p>
<p><center>
<img alt="Sprite Sheet Trump" src="assets/trump_run.png" style="height:320px;border:1px solid silver;">
</img></center></p>
<p>Amb el constructor amb el que hem instanciat el nostre objecte trump li indiquem els seg√ºents arguments: 
- "Trump": etiqueta que s'utilitza per identificar els frames de l'animaci√≥.
- "./imt/trump_run.png": ruta del nostre full d'sprites.
- 100: ample de cada frame de l'animaci√≥ (cada Trumpet)
- 100: alt de cada frame de l'animaci√≥ (cada Trumpet)
- 4: files de l'sprite sheet0,5 0,5</p>
<ul>
<li>6: columnes de l'sprite sheet</li>
<li>0: aquest argument ens indica si nom√©s volem agafar una fila (nombre de la fila que volem) per full o totes les files (zero). Al nostre cas hem posta zero el que significa que volem que l'animaci√≥ carregue tots els frames de l'spritesheet.</li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="w">    </span><span class="n">Animation</span><span class="w"> </span><span class="n">trump</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Animation</span><span class="w"> </span><span class="p">(</span><span class="s">"Trump"</span><span class="p">,</span><span class="w"> </span><span class="s">"./img/trump_run.png"</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
<p>Com he dit, el que hem fet ha sigut carregar tot l'sprite sheet en una sola animaci√≥ quan en realitat el que tenim √©s un full d'sprites amb quatre animacions com mostra la seg√ºent imatge. Cada fila √©s una animaci√≥ diferent.</p>
<p><center>
<img alt="Sprite Sheet Trump - Explicaci√≥ de les animacions" src="assets/trump_run_explicat.png" style="height:320px;border:1px solid silver;">
</img></center></p>
<p>El que hauriem de fer per tant √©s que la nostra classe Trump no tinga nom√©s un atribut animation com fins ara sino que tinga quatre atributs de la classe Animation per a simular cadascun dels diferents moviments que pot fer el nostre personatge. Tamb√© necessitarem una √∫ltima animaci√≥ que ens servir√† per indicar quina √©s l'animaci√≥ actual o la que s'estiga executant en un moment concret. Finalment ens quedaria implementar el codi necessari per que quan el personatge canvie de direcci√≥ ho faja tamb√© l'animaci√≥ que s'est√† executant. Aix√≤ ho fariem als diferents m√®todes <strong>gira</strong> que hem implementat a la classe boleta.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">// Teniu en compte que animAvall, animDreta, animAmunt, currentAnim s√≥n nous atributs de la classe Bola</span>
<span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">carregaAnimacions</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="na">animAvall</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Animation</span><span class="w"> </span><span class="p">(</span><span class="s">"Trump"</span><span class="p">,</span><span class="w"> </span><span class="s">"./img/trump_run.png"</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="na">animDreta</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Animation</span><span class="w"> </span><span class="p">(</span><span class="s">"Trump"</span><span class="p">,</span><span class="w"> </span><span class="s">"./img/trump_run.png"</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="na">animAmunt</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Animation</span><span class="w"> </span><span class="p">(</span><span class="s">"Trump"</span><span class="p">,</span><span class="w"> </span><span class="s">"./img/trump_run.png"</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">);</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="na">animEsquerra</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Animation</span><span class="w"> </span><span class="p">(</span><span class="s">"Trump"</span><span class="p">,</span><span class="w"> </span><span class="s">"./img/trump_run.png"</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">);</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="na">currentAnim</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">animAvall</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">giraDreta</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="na">direccio</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">PVector</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="na">currentAnim</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">animDreta</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">giraEsquerra</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">    </span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="na">direccio</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">PVector</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="na">currentAnim</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">animEsquerra</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">giraDalt</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="na">direccio</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">PVector</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="na">currentAnim</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">animAmunt</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">giraBaix</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="na">direccio</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">PVector</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="na">currentAnim</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">animAvall</span><span class="p">;</span>
<span class="p">}</span>

<span class="w"> </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">mostra</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">fill</span><span class="p">(</span><span class="n">pinta</span><span class="p">);</span>
<span class="w">    </span><span class="n">strokeWeight</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span>

<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="na">currentAnim</span><span class="p">.</span><span class="na">display</span><span class="p">(</span><span class="n">posicio</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">actualitza</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="na">posicio</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">direccio</span><span class="p">.</span><span class="na">copy</span><span class="p">().</span><span class="na">mult</span><span class="p">(</span><span class="n">velocitat</span><span class="p">));</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="na">currentAnim</span><span class="p">.</span><span class="na">update</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>El resultat de les modificacions al codi anteriors seria el seg√ºent:</p>
<p><center>
<img alt="Sprite Sheet Trump - √ös de les animacions" src="assets/trumpAnims.gif" style="height:350px;border:1px solid silver;">
</img></center></p>
<h3 id="ampliacio-del-marcador">Ampliaci√≥ del marcador</h3>
<p>Per als pr√≤xims apartats d'aquest projecte s'ha ampliat la classe marcador i se li ha afegit una etiqueta extra i un compte enrere. Aquesta modificaci√≥ es per a poder usar elements tipus booster que acceleren al nostre personatge nom√©s per un per√≠ode de temps. Se li ha afegit tamb√© un sistema d'alarmes com un array d'objectes JSON per poder afegir m√©s d'una alarma a difer√®ncia del que estava fent a l'activitat anterior. Observa el seg√ºent diagrama:</p>
<p><center>
<div class="mermaid">        classDiagram
        direction LR
        Marcador: PVector posicio
        Marcador: int ample
        Marcador: int alt
        Marcador: int currentTime
        Marcador: int currentCountDown
        Marcador: int countDownFlag
        Marcador: int score
        Marcador: String lblPuntsA
        Marcador: String lblPuntsB
        Marcador: String lblExtra
        Marcador: int puntsA
        Marcador: int puntsB
        Marcador: JSONArray alarmes
        Marcador: Marcador()
        Marcador: Marcador(String strA, String strB)
        Marcador: void mostra()
        Marcador: void actualitza()
        Marcador: void afegirAlarma(String text, int durada, boolean esRepeteix)
        Marcador: ArrayList obtenirAlarmesDisparades()
        Marcador: void sumaPuntsA()
        Marcador: void sumaPuntsB()
        Marcador: int getPuntsA()
        Marcador: int getPuntsB()
        Marcador: String getTime()
        Marcador: setlblExtra(String lbl)
        Marcador: setCountDown(int milis)
        Marcador: incrementScore(int inr)
        Marcador: String getTime()
</div>
</center></p>
<p><a href="assets/Marcador.pde">Pots descarregar la nova versi√≥ ac√≠</a></p>
<p>Per poder utilitzar la classe Marcador has de fer el mateix que has fet amb la classe Animation. Pots generar la documentaci√≥ amb javadoc per tindre un manual d'√∫s m√©s detallat.</p>
<details class="question">
<summary>Activitat P10. Llibreries de classes</summary>
<p>üìå Incorpora les llibreries Animator i Marcador al teu projecte</p>
<p><strong>Objectiu:</strong> Aprendre a treballar amb classes ja implementades</p>
</details>
<details class="question">
<summary>Activitat P11. Col¬∑leccions</summary>
<p>üìå Utilitzar ArrayList, HashMap o altres col¬∑leccions per gestionar conjunts d‚Äôobjectes del joc.
Exemples:</p>
<ul>
<li>Llista d‚Äôenemics ArrayList<enemic></enemic></li>
<li>Llista de projectils actius</li>
</ul>
<p><strong>Objectiu:</strong> Aprendre a treballar amb conjunts d‚Äôobjectes i llMarcadoribreries de Java.    </p>
</details>
<!--
## Entrada eixida i gr√†fics

## Col¬∑leccions

## Her√®ncia, polimorfisme i interf√≠cies

## Bases de dades relacionals
-->
</article>
</div>
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": ".", "features": ["navigation.expand", "toc.integrate"], "search": "assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
<script src="assets/javascripts/bundle.c8d2eff1.min.js"></script>
<script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
<script>mermaid.initialize({
    theme: "neutral"
});</script></body>
</html>