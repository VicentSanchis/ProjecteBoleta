
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<link href="assets/images/favicon.png" rel="icon"/>
<meta content="mkdocs-1.4.3, mkdocs-material-9.1.15" name="generator"/>
<title>Projecte Bola de Drac</title>
<link href="assets/stylesheets/main.26e3688c.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
<link href="stylesheet/extra.css" rel="stylesheet"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/mermaid/7.0.9/mermaid.neutral.css" rel="stylesheet"/>
<script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
</head>
<body dir="ltr">
<script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#projecte-bola-de-drac">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header md-header--shadow" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="Projecte Bola de Drac" class="md-header__button md-logo" data-md-component="logo" href="." title="Projecte Bola de Drac">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"></path></svg>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            Projecte Bola de Drac
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              Index
            
          </span>
</div>
</div>
</div>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" title="Clear" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"></path></svg>
</button>
</nav>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list" role="presentation"></ol>
</div>
</div>
</div>
</div>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary md-nav--integrated" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="Projecte Bola de Drac" class="md-nav__button md-logo" data-md-component="logo" href="." title="Projecte Bola de Drac">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"></path></svg>
</a>
    Projecte Bola de Drac
  </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
          Index
          <span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href=".">
        Index
      </a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#dades-variables-identificadors">
    Dades Variables identificadors
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#operadors-i-expressions">
    Operadors i expressions
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#estructures">
    Estructures
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1 id="projecte-bola-de-drac">Projecte Bola de Drac</h1>
<p>El projecte de la <strong>bola de drac</strong> és un xicotet joc que desenvoluparem a classe amb <strong>Java i Processing IDE</strong>. En aquest projecte es pretén  simular un <strong>sistema de físiques</strong> molt simple en el que una bola caurà poc a poc gràcies a la força de la gravetat com mostra la imatge següent:</p>
<p><center>
<img alt="Boleta que cau" src="assets/Boleta.gif"/>
</center></p>
<p>Poc a poc i al mateix temps que anem assolint els coneixements necessaris anirem ampliant les funcionalitats de la bola, per exemple que puga <strong>rebotar</strong> quan toque les vores de l'aplicació, que pugam utilitzar els cursors al joc per impulsar o <strong>moure la bola.</strong></p>
<p>Finalment i si ens dona temps es poden afegir també <strong>obstacles, enemics i animacions...</strong></p>
<details class="danger">
<summary>Avís Important</summary>
<p>Aquest projecte anirà fent-se en paral·lel mentre s'explica la sintaxi del llenguatge Java al (Tema 3)[https://vicentsanchis.github.io/Programacio/Tema%2003.%20El%20llenguatge%20Java/], per tant la majoria d'activitats i tasques estaran relacionades amb els coneixements que aneu adquirint durant aquest tema.</p>
</details>
<h2 id="dades-variables-identificadors">Dades Variables identificadors</h2>
<p>El <strong>primer</strong> que has de fer és molt senzill, obre l'entorn de desenvolupament integrat de <strong>Processing</strong>, copia el codi que tens a continuació i apega'l a l'editor. Després guarda'l amb el nom <strong>ProjecteBola.pde</strong> per exemple.</p>
<details class="info">
<summary>Codi base sobre el que construirem el projecte</summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * Projecte Bola de Drac</span>
<span class="cm">     * Xicotet projecte de simulació d'un sistema de físiques que finalment acabarà convertint-se en un joc </span>
<span class="cm">     * simple amb enemics, obstacles i puntuació</span>
<span class="cm">     * @author Vicent Sanchis</span>
<span class="cm">     * @since  10/10/2023</span>
<span class="cm">     * @version 1.0</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="c1">// Constants</span>

<span class="w">    </span><span class="c1">// Variables Globals</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * void setup</span>
<span class="cm">     * Mètode de configuració de l'aplicació,  només s'executa una volta</span>
<span class="cm">     * Ací solen anar les inicialitzacions i setup inicial</span>
<span class="cm">     * @return void</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">setup</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">size</span><span class="p">(</span><span class="mi">640</span><span class="p">,</span><span class="mi">480</span><span class="p">);</span><span class="w">   </span><span class="c1">// Defineix el tamany de la pantalla de la nostra aplicació</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * void draw</span>
<span class="cm">     * Mètode que s'executa tantes vegades per segon com fps estiga configurat</span>
<span class="cm">     * També conegut com el bucle de joc. Ací va el principal del programa</span>
<span class="cm">     * @return void</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">draw</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
</details>
<h3 id="identificadors">Identificadors</h3>
<p>Si executes el codi que has copiat amb el <strong>Processing IDE</strong> veuras que només ix una pantalla de 640 pixels per 480 pixels i res més. No et preocupes, és normal. Ara anirem poc a poc afegint el codi necessari per anar construint el nostre joc.</p>
<details class="question">
<summary>Activitat 1. Identificadors del nostre projecte</summary>
<p>En aquest joc anem a necessitar una sèrie de variables on emmagatzemarem informació sobre:</p>
<div class="highlight"><pre><span></span><code>1. Posició de la boleta (coordenada X):
2. Posició de la boleta (coordenada Y):
3. Velocitat de la boleta:
4. Direcció de la boleta (coordenada X):
5. Direcció de la boleta (coordenada Y):
6. Color RGB de la boleta:
</code></pre></div>
<p>Per a cadascuna de futures variables anteriors tria un identificador seguint les normes de creació d'identificadors vistes a classe i que siga significatiu.</p>
</details>
<h3 id="variables">Variables</h3>
<p>Una vegada ja tenim els identificadors escollits ens quedaria posar-los al nostre projecte. És a dir, has de declarar les variables associades als identificadors de l'activitat anterior al nostre projecte. Recorda que declarar una variable bàsicament consisteix en associar-li a l'identificador el <strong>tipus de dades</strong> adequat.</p>
<details class="question">
<summary>Activitat 2. Declaració de variables al projecte</summary>
<p>Llig el que hages respost a l'activitat anterior i declara com consideres dins del bloc de <strong>"Variables Globals"</strong> els identificadors que hages triat com a variables amb el <strong>tipus base</strong> que trobes que es necessite. Mira l'exemple de la variable velocitat si no saps per on començar.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">// Variables Globals</span>
<span class="c1">// Declara les variables a continuació de l'exemple de velocitat</span>
<span class="kt">int</span><span class="w"> </span><span class="n">velocitat</span><span class="p">;</span><span class="w">  </span><span class="c1">// Exemple de declaració d'una variable 'velocitat'</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">setup</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">size</span><span class="p">(</span><span class="mi">640</span><span class="p">,</span><span class="mi">480</span><span class="p">);</span>
<span class="p">}</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">draw</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">clear</span><span class="p">();</span>
<span class="w">    </span><span class="n">background</span><span class="p">(</span><span class="mi">255</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>Recorda que aquesta activitat l'has de fer amb <strong>Processing IDE</strong>. Guarda el fitxer resultant amb el nom següent: <strong>ProjecteBola.pde</strong></p>
</details>
<h2 id="operadors-i-expressions">Operadors i expressions</h2>
<p>Ja tens les variables necessàries per poder començar amb el projecte declarades al teu fitxer <strong>ProjecteBola.pde</strong> ara per poder seguir amb el joc, has de donar-los algun valor inicial a les <strong>variables declarades</strong> a l'activitat anterior. Recorda que per donar valor a una variable s'han d'utilitzar dues coses que has vist al tema 3: l'operador assignació <strong>=</strong> i un <strong>literal</strong> del mateix tipus que siga la variable a la qual vols donar valor.</p>
<p>Les <strong>assignacions de valors inicials</strong> a les variables del nostre projecte es faran dins del <strong>setup</strong>. Teniu en compte que és en aquest mètode en el que es solen configurar les aplicacions, per tant, és un bon lloc per poder donar-los a les variables el seu valor inicial amb el que començaran quan s'execute l'app.</p>
<details class="question">
<summary>Activitat 3. Inicialització de variables del projecte</summary>
<p>Com que hem declarat totes les variables a la secció de <strong>'Variables Globals'</strong> per tal que se li puga assignar valor des de qualsevol lloc. Ara hauràs de assignar-li un valor literal a cada identificador declarat com hem vist. Fixa't en l'exemple de posX.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">// Variables Globals</span>
<span class="kt">int</span><span class="w"> </span><span class="n">posX</span><span class="p">,</span><span class="w"> </span><span class="n">posY</span><span class="p">;</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">setup</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">size</span><span class="p">(</span><span class="mi">640</span><span class="p">,</span><span class="mi">480</span><span class="p">);</span>
<span class="w">    </span><span class="n">posX</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">320</span><span class="p">;</span>
<span class="p">}</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">draw</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">clear</span><span class="p">();</span>
<span class="w">    </span><span class="n">background</span><span class="p">(</span><span class="mi">255</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>Guarda aquesta activitat amb el nom de: <strong>ProjecteBola.pde</strong></p>
</details>
<h3 id="constants">Constants</h3>
<p>Com has vist al <a href="https://vicentsanchis.github.io/Programacio/Tema%2003.%20El%20llenguatge%20Java/">Tema 3</a> les <strong>constants</strong> són identificadors que representen valors immutables durant l'execució del programa. Trobes que podriem usar alguna constant al nostre projecte?. Mira l'activitat següent:</p>
<details class="question">
<summary>Activitat 4. Ús de constants al nostre projecte</summary>
<p>La finalitat del joc de la boleta, a banda de aprendre java, és simular les lleis de la gravetat amb una boleta. Dins de les lleis de la gravetat existeix una constant que és la força de la gravetat (9,8m/s²).</p>
<p>Declara una constant amb nom 'GRV', o algun altre identificador significatiu i assigna-li el valor de la gravetat. Prova diversos valors de la gravetat fins que trobes aquell que siga més adequat.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">// Declara la constant a continuació</span>

<span class="c1">// Variables globals    </span>
<span class="kt">float</span><span class="w"> </span><span class="n">posX</span><span class="p">,</span><span class="w"> </span><span class="n">posY</span><span class="p">;</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">setup</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">size</span><span class="p">(</span><span class="mi">640</span><span class="p">,</span><span class="mi">480</span><span class="p">);</span>
<span class="w">    </span><span class="n">posX</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">320</span><span class="p">;</span>
<span class="p">}</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">draw</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">clear</span><span class="p">();</span>
<span class="w">    </span><span class="n">background</span><span class="p">(</span><span class="mi">255</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>Què passa si al mètode draw intentes canviar-li el valor a alguna constant? Prova-ho.</p>
</details>
<h2 id="estructures">Estructures</h2>
<p>Abans de continuar amb l'exemple de la boleta anem a refrescar un poc la memòria sobre les <strong>fases de desenvolupament de programari</strong> que varem veure al primer tema i la tècnica de disseny de diagrames de flux i la aplicarem al nostre projecte.</p>
<h4 id="1-fase-danalisi-o-que-volem-fer">1. Fase d'analisi o què volem fer</h4>
<p>Es pretén fer una aplicació amb una pantalla de grandària 640 píxels d'ample  i 480 píxels d'alt amb fons blanc i una boleta de 20 píxels de diametre al mig de la pantalla en la seua posició inicial. Una vegada arranque l'aplicació la boleta anirà caent aplicant la llei de la gravetat tenint en compte que la seua velocitat inicial és zero. Quan arribe al terra, la bola desapareixerà i s'acabarà el programa.</p>
<div class="highlight"><pre><span></span><code>- Requeriment 1: La pantalla de l'aplicació és de 640 píxels d'ample per 480 píxels d'alt.
- Requeriment 2: La posició inicial de la boleta és al mig de la pantalla dalt (320,50)
- Requeriment 3: La velocitat inicial de la boleta és zero.
- Requeriment 4: L'acceleració de la boleta és de 9,8 m/s².
- Requeriment 5: Quan la boleta toque terra anirà desapareixent i acabarà l'execució del programa.
</code></pre></div>
<h4 id="2-fase-de-disseny">2. Fase de disseny</h4>
<p>Basant-nos en l'especificació de la fase d'analisi anterior i els requeriments que hem aconseguit treure, dissenyem el nostre algorisme utilitzant, per exemple, la tècnica dels <strong>diagrames de flux</strong>. Un possible resultat podria ser el següent:</p>
<div class="mermaid">graph LR
    Ini((Inici))--&gt;A[Establir Dimensions\nAmple=640\nAlt=480];
    style Ini fill:#0F0;
    A--&gt;B[Establir Posició Inicial\nposX=320\nposY=50];
    B--&gt;C[GRV=0.098];
    C--&gt;D[Actualitzar Posició Bola];
    D--&gt;E[Dibuixar Bola];
    E--draw: Bucle Joc--&gt;D;
</div>
<h4 id="3-fase-dimplementacio">3. Fase d'implementació</h4>
<p>Ara hem de passar el disseny a codi en Java. Coses a tenir en compte: </p>
<div class="highlight"><pre><span></span><code>- Les dimensions de la boleta seran constants o variables?
- Els identificadors de la posició de la boleta són variables o constants?.
- La acceleració és una variable o una constant?
- Com puc dibuixar una boleta amb Processing IDE?
- Com s'actualitza la posició de la boleta?
- L'unitat de temps no és el segon si no el frame. Com sé en quin frame estic a l'actualitat?
- L'unitat de mesura no són els metres si no el píxel.
</code></pre></div>
<p>En realitat, l'única qüestió per a la que possiblement no tingues resposta és la cinquena i és en aquesta part on realment aplicarem <strong>operacions aritmètiques</strong> per tal d'actualitzar la posició de la boleta. Per saber la posició de la boleta a cada frame utilitzarem les formules del <strong>MRUA</strong> per calcular la velocitat en tot moment i així poder actualitzar la posició. </p>
<p>Una <strong>última consideració</strong> és que com que estem fent un simulador simple, no cal ser precisos amb les unitats de mesura i els seus valors, per exemple: la gravetat és 9,88 metres per segon cada segon però per al nostre simulador anem a establir que la gravetat (acceleració) és de 1 pixel per frame cada frame.</p>
<details class="info">
<summary>Moviment Rectilini Uniformement Accelerat</summary>
<p>Amb les formules del <strong>MRUA</strong> podem saber en tot moment on es troba la boleta. Si a l'inici la boleta es troba en la posició y=120 i la velocitat inicial Vo=0, passat una unitat de temps (1 frame) la distància recorreguda per part de la boleta seria:</p>
<div class="highlight"><pre><span></span><code><span class="c1">// Frame 0</span>
<span class="n">vf</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v0</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">a</span><span class="o">*</span><span class="n">t</span>
<span class="n">vf</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v0</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">GRV</span><span class="o">*</span><span class="p">(</span><span class="n">frameCount</span><span class="o">/</span><span class="n">frameRate</span><span class="p">);</span>
<span class="n">vf</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="o">*</span><span class="mi">0</span><span class="p">;</span>
<span class="n">vf</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
<span class="n">posY</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">posY</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">vf</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
</code></pre></div>
<p>És a dir, a l'instant zero la boleta es troba en la seua posició inicial i té una velocitat de 0 (pixels/frame). Lògic no?</p>
<div class="highlight"><pre><span></span><code><span class="c1">// Frame 1</span>
<span class="n">vf</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v0</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">GRV</span><span class="o">*</span><span class="p">(</span><span class="n">frameCount</span><span class="o">/</span><span class="n">frameRate</span><span class="p">);</span>
<span class="n">vf</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">60</span><span class="p">)</span>
<span class="n">vf</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="o">/</span><span class="mi">60</span><span class="p">;</span>
<span class="n">posY</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">posY</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">vf</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="o">/</span><span class="mi">60</span><span class="p">;</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c1">// Frame 2</span>
<span class="n">vf</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v0</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">GRV</span><span class="o">*</span><span class="p">(</span><span class="n">frameCount</span><span class="o">/</span><span class="n">frameRate</span><span class="p">);</span>
<span class="n">vf</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="o">*</span><span class="p">(</span><span class="mi">2</span><span class="o">/</span><span class="mi">60</span><span class="p">);</span>
<span class="n">vf</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="o">/</span><span class="mi">30</span><span class="p">;</span>
<span class="n">posY</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">posY</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">vf</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="o">/</span><span class="mi">30</span><span class="p">;</span>
</code></pre></div>
<p>És a dir, passada una unitat de temps (1 frame) la boleta haurà recorregut 1 pixels. Continuem:</p>
<div class="highlight"><pre><span></span><code><span class="c1">// Frame 3</span>
<span class="n">vf</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v0</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">GRV</span><span class="o">*</span><span class="p">(</span><span class="n">frameCount</span><span class="o">/</span><span class="n">frameRate</span><span class="p">);</span>
<span class="n">vf</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="o">*</span><span class="p">(</span><span class="mi">3</span><span class="o">/</span><span class="mi">60</span><span class="p">);</span>
<span class="n">vf</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">3</span><span class="o">/</span><span class="mi">60</span><span class="p">;</span>
<span class="n">posY</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">posy</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">vf</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">3</span><span class="o">/</span><span class="mi">60</span><span class="p">;</span>
</code></pre></div>
<p>I axí successivament fins que la boleta acabaria desapareixent per la part de baix de la nostra aplicació.</p>
</details>
<p>Si has llegit i entès l'explicació anterior sobre el <strong>Moviment rectilini uniformement accelerat</strong>, fes l'activitat 4 on per primera vegada es veurà la boleta en moviment.</p>
<details class="question">
<summary>Activitat 4. Fer caure la boleta</summary>
<p>Escriu un programa en Java amb <strong>Processing IDE</strong> en base a les especificacions anteriors i que resolga el problema de la boleta. És a dir, que a l'inici el programa dibuixe una boleta a la posició <strong>x=320</strong> i <strong>y=50</strong> i que com a conseqüència de la força de la gravetat vaja caiguen fins desapareixer de la pantalla de la nostra aplicació.</p>
<p>Les <strong>variables</strong> que determinen la posició x i y de la boleta han de tenir <strong>precisió flotant</strong> (float) ja que com has pogut observar a l'apartat del moviment rectilini uniformement accelerat, les distintes operacions que s'han de fer utilitzen decimals.</p>
<p><center>
<img alt="Boleta" src="assets/Boleta.gif"/>
</center></p>
</details>
<p>Abans de passar a la següent secció, millorem el que ja tenim fet. El que es preten amb aquesta activitat és que el punt d'inici de la boleta no siga sempre el mateix i varie cada vegada que s'arranque el joc. 
Llig i fes la següent activitat:</p>
<details class="question">
<summary>Activitat 5. Augmentem la precisió de la boleta</summary>
<p>En aquesta activitat anem a fer que la boleta no aparega sempre a la posició x=320, y=50 si no que cada vegada que arranquem l'aplicació, aparega en un lloc diferent. </p>
<p>Per tal d'aconseguir aquesta aleatorietat, utilitzarem la funció de Processing IDE <strong>random</strong>. </p>
<p>A l'API de Processing, <a href="https://processing.org/reference/">Processing Reference</a>, entre altres tenim una funció <strong>random(low, high)</strong> que genera nombres aleatoris dintre del rang low-hight que se li passa per paràmetre, és a dir, si volem que aquesta funció ens torne un valor aleatori entre 0 i 100, hauríem de cridar-la de la següent forma:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kt">float</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">random</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span><span class="w">   </span><span class="c1">// Genera un nombre aleatori entre 0 i 100 i l'emmagatzema a f</span>
<span class="kt">float</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">random</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span><span class="mi">90</span><span class="p">);</span><span class="w"> </span><span class="c1">// Genera un nombre aleatori entre 50 i 90 i l'emmagatzema a m</span>
</code></pre></div></td></tr></table></div>
<p>Primer fes que tant les variables que determinen la posició x i y de la boleta les genere la funció random i no siguen fixes.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">// Per exmple</span>
<span class="n">posX</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">random</span><span class="p">(</span><span class="mi">640</span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
<p>Finalment fes que la gravetat també tinga major precissió i assigna-li un valor de 0.0098.</p>
</details>
<h3 id="estructura-de-seleccio-simple">Estructura de selecció simple</h3>
<p>Fent ús de les estructures de selecció vistes al tema 3, farem que el nostre joc siga més eficient i precís. Si has fet les activitats anteriors hauràs pogut observar que la boleta desapareix per la part de baix de la nostra aplicació i no la tornem a veure. Anem a corregir este comportament utilitzant una estructura de selecció <strong>if</strong></p>
<p>Continuem amb la boleta i ampliem funcionalitats i millorem el diagrama de flux de la fase de disseny</p>
<div class="mermaid">graph LR
        Ini((Inici))--&gt;A[Establir Dimensions\nAmple=640\nAlt=480];
        style Ini fill:#0F0;
        A--&gt;B[Establir Posició Inicial\nposX=320\nposY=50];
        B--&gt;C[GRV=0.98f];
        C--&gt;E[Actualitzar Posició Bola];
        E--&gt;F{Ha tocat terra?};
        F--&gt;|SI|G[posX=0];
        G--&gt;H[velocitat = 0];
        H--&gt;D;
        F--&gt;|NO|D;        
        D[Dibuixar Bola];
        D--Draw: Bucle Joc--&gt;E;
</div>
<p>El primer que farem en aquesta secció és que la boleta no desaparega. Fins ara la nostra boleta apareix en un lloc <strong>random</strong> de la finestra de l'aplicació i comença a caure fins que desapareix. Hem d'evitar això com mostra el diagrama de flux.</p>
<details class="question">
<summary>Activitat 6. Que no desaparega la boleta</summary>
<p>Hem d'aconseguir que la boleta no desaparega quan arribe a la part de baix de l'aplicació sino torne a apareixer per dalt. Què significa que la boleta ha arribat al terra? o dit d'una altra manera, com sabem que la boleta ha arribat baix del tot? Per què la el valor de la variable que indica la posició a l'eix Y de la boleta és major que l'alt de la nostra aplicació, és a dir: 240. Per tant podem deduir que: "Si la posició Y de la boleta és major que 240 aleshores la fem apareixer per dalt..."</p>
<p>Com podeu observar, l'afirmació anterior és un <strong>if</strong>, si posY és major (&gt;) altura aleshores fes apareixer per dalt de nou la boleta. Però quines són les accions a realitzar per tal que la boleta aparega per dalt? tornar a posar la posició Y de la boleta a 0.</p>
<p>Un problema que ens trobarem ací és que no podem ja utilitzar la variable de sistema <strong>frameCount</strong> ja que quan la boleta torne a apareixer per dalt el número de frames (el que utilitzem com a unitat de temps) ha de començar de zero una altra vegada. La solució és crear una variable <strong>numFrames</strong> com a global que s'inicialitze a zero al setup i cada vegada que haja d'apareixer per dalt, es torna a assignar un zero a aquesta variable.</p>
<p>També s'ha de reiniciar la velocitat a zero sino no pararà d'accelerar.</p>
<p><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="w">    </span><span class="c1">// Constants</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">GRV</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w">   </span><span class="c1">// Força de la gravetat</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">int</span><span class="w">   </span><span class="n">TAM</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">20</span><span class="p">;</span><span class="w">  </span><span class="c1">// Tamany de la boleta</span>

<span class="w">    </span><span class="c1">// Variables Globals</span>
<span class="w">    </span><span class="kt">int</span><span class="w">   </span><span class="n">numFrames</span><span class="p">;</span>
<span class="w">    </span><span class="kt">float</span><span class="w"> </span><span class="n">velocitat</span><span class="p">;</span><span class="w">              </span><span class="c1">// Velocitat inicial de l'objecte quan arranquem el programa.</span>
<span class="w">    </span><span class="kt">float</span><span class="w"> </span><span class="n">posX</span><span class="p">,</span><span class="w"> </span><span class="n">posY</span><span class="p">;</span><span class="w">             </span><span class="c1">// Variables que determinen la posició de la boleta en un escenari de dues dimensions</span>

<span class="w">    </span><span class="c1">// Mètode setup: inicialitza la nostra aplicació, dona valors inicials.</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">setup</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">size</span><span class="p">(</span><span class="mi">640</span><span class="p">,</span><span class="mi">480</span><span class="p">);</span><span class="w">               </span><span class="c1">// Establir dimensions</span>
<span class="w">        </span><span class="n">posX</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="n">random</span><span class="p">(</span><span class="mi">40</span><span class="p">,</span><span class="mi">600</span><span class="p">);</span><span class="w">  </span><span class="c1">// Establim posició X inicial</span>
<span class="w">        </span><span class="n">posY</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="n">random</span><span class="p">(</span><span class="mi">40</span><span class="p">,</span><span class="mi">440</span><span class="p">);</span><span class="w">  </span><span class="c1">// Establim posició Y inicial</span>
<span class="w">        </span><span class="n">velocitat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w">               </span><span class="c1">// Establim la velocitat inicial</span>
<span class="w">        </span><span class="n">numFrames</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w">               </span><span class="c1">// Variable necessària per controlar l'acceleració.</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// Metode draw: bucle del joc, aquest mètode s'executa de forma continua</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">draw</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">clear</span><span class="p">();</span>
<span class="w">        </span><span class="n">background</span><span class="p">(</span><span class="mi">255</span><span class="p">);</span>
<span class="w">        </span><span class="n">fill</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="w">        </span><span class="n">ellipse</span><span class="p">(</span><span class="n">posX</span><span class="p">,</span><span class="n">posY</span><span class="p">,</span><span class="n">TAM</span><span class="p">,</span><span class="n">TAM</span><span class="p">);</span>

<span class="w">        </span><span class="c1">// Actualitzem la posició utilitzant la velocitat</span>
<span class="w">        </span><span class="n">posY</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">posY</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">velocitat</span><span class="p">;</span>
<span class="w">        </span><span class="n">velocitat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">velocitat</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">G</span><span class="o">*</span><span class="n">numFrames</span><span class="p">;</span><span class="w">  </span><span class="c1">// Vf = Vo + acc*temps;</span>
<span class="w">        </span><span class="n">numFrames</span><span class="w"> </span><span class="o">++</span><span class="p">;</span>

<span class="w">        </span><span class="c1">// Codi if que controle si ha arribat al terra o no.</span>
<span class="w">        </span><span class="c1">// if...</span>
<span class="w">    </span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<center>
<kbd style="border:1px solid black;"><img alt="Boleta" src="assets/Act319.gif"/></kbd>
</center></p>
</details>
<h3 id="el-depurador-de-processing-ide">El depurador de Processing IDE</h3>
<p>Ha arribat el moment que aprengues com funciona el depurador que és una eina molt important per a desenvolupar codi. El depurador o <strong>debugger</strong> és una eina molt important i necessària que porten tots els entorns de desenvolupament integrat com Processing. Aquesta eina ens permet executar el codi pas a pas al mateix temps que podem monitoritzar el valor de les variables, l'estat dels diferent objectes que formen part de la nostra aplicació. </p>
<p><center>
<kbd style="border:1px solid silver;"><img alt="Debugger" src="assets/Debugger.png"/></kbd>
</center></p>
<p>Per poder activar el depurador hem de fer clic al botó redó que es troba dalt a la dreta de l'editor com es mostra a la imatge anterior. Una vegada tenim el depurador activat, se'ns obre el <strong>monitor de variables</strong> que ens permetrà controlar com canvien les variables de valor. </p>
<p>A la part esquerra ens apareixeran els controls que ens habilitaran per poder navegar pas a pas o entrar en funcions i mètodes del codi.</p>
<p>Finalment és molt important també per a la depuració de codi el terme <strong>breakpoint</strong> per fer que el depurador pare en un lloc específic del nostre codi, li ho hem d'indicar amb punts de ruptura o breakpoints. Per poder posar un breakpoint només hem de fer clic sobre el número de la línia sobre la que volem que s'apare l'execució del programa.  Per tal de llevar-lo tornem a punxar sobre la mateixa línia.</p>
<p>Una vegada hages provat el depurador de Processing IDE i tingues més o menys clar com funciona, fes l'activitat següent.</p>
<details class="question">
<summary>Activitat 7. Correcció d'errades amb el depurador</summary>
<p>Com hauràs vist quan has executat el codi, el comportament del que fa el nostre codi amb la boleta no és el que esperavem, o almenys jo ho imaginava d'una altra manera. Revisa-ho i canvia alguns detalls. Fes una depuració línia a línia del codi amb el <strong>Debugger</strong> de Processing IDE i deixa l'aplicació com a tu t'agradaria.</p>
<p>Pista: igual quan torna a apareixer per dalt la velocitat no deuria ser zero...</p>
</details>
<h3 id="estructura-de-seleccio-doble">Estructura de selecció doble</h3>
<p>Per tal de treballar <strong>l'estructura condicional doble</strong> que acabem de veure ampliarem les funcionalitat de la nostra aplicació. Ara volem que quan la boleta estiga a certa distància terra es pinte de color roig i quan estiga a més d'eixa distància, siga negra.  </p>
<p>El diagrama de flux amb els <strong>nous requeriments</strong> quedaria així:</p>
<div class="mermaid">graph LR
        Ini((Inici))--&gt;A[Establir Dimensions\nAmple=640\nAlt=480];
        style Ini fill:#0F0;
        A--&gt;B[Establir Posició Inicial\nposX=320\nposY=50];
        B--&gt;C[GRV=0.98];
        C--&gt;E[Actualitzar Posició Bola];
        E--&gt;F{A menys de xx píxels?};
        F--&gt;|SI|G[posX=0\nPintaRoig];
        G--&gt;H[velocitat = 0];
        H--&gt;D[Dibuixar Bola];        
        F--&gt;|NO|I[PintaNegre];
        I--&gt;D;
        D--Draw: Bucle Joc--&gt;E;
</div>
<p>Estudia amb detall el diagrama de flux anterior i fes la següent activitat.</p>
<details class="question">
<summary>Activitat 8. Boleta de dos colors</summary>
<p>Observa el diagrama de flux anterior i modifica el codi de que ja tens per tal d'afegir-li les noves funcionalitats. La distància a partir de la qual la boleta es faria roja podria ser per exemple 100 pixels. Finalment l'aplicació quedaria de la següent forma:</p>
<p><center>
<kbd style="border:1px solid black;"><img alt="Boleta" src="assets/Act322.gif"/></kbd>
</center></p>
<p><strong>Ampliació:</strong> Fes que la boleta quan comence a apareixer per dalt siga totalment negra i poc a poc conforme va baixant vaja anant cap al color roig gradualment. Només pots utilitzar les estructures que hem vist fins ara: seqüencial, <strong>if simple i if - else.</strong></p>
<p><center>
<kbd style="border:1px solid black;"><img alt="Boleta" src="assets/Act322b.gif"/></kbd>
</center></p>
</details>
<h3 id="estructura-de-seleccio-niada">Estructura de selecció niada</h3>
<p>Per tal de treballar l'estructura de selecció niada farem que la boleta no només tinga dos colors sino que puga tindra 7 colors que aniran canviant d'acord amb l'altura de la pantalla en la qual es troba.</p>
<div class="mermaid">graph LR
    Ini((Inici))--&gt;A[Establir Dimensions\nAmple=640\nAlt=480\nposX=320\nposY=50\nGRV=0.98];
    style Ini fill:#0F0;
    A--&gt;C[Actualitzar Posició Bola];
    C--&gt;D{Entre A i B};
    D--&gt;|SI|E[PintaRoig];
    E--&gt;B;
    D--&gt;|NO|F{Entre B i A};
    F--&gt;|SI|G[PintaTaronja];
    G--&gt;B;
    F--&gt;|NO|H{Entre B i C};
    H--&gt;|SI|I[PintaGroc];
    I--&gt;B;
    H--&gt;|NO|J{Entre C i D};
    J--&gt;|SI|K[PintaVerd];
    K--&gt;B;
    J--&gt;|NO|L{Entre D i E};
    L--&gt;|SI|M[PintaBlau];
    M--&gt;B[Dibuixar Bola];
    B--&gt;C;
</div>
<details class="question">
<summary>Activitat 9. Canvi de color de la boleta segons l'altura en la que es troba</summary>
<p>Anem a fer que en el nostre projecte de <strong>la boleta que cau</strong>, aquesta canvie de color segons l'altura de la pantalla a la qual es troba. </p>
<p>Tenint en compte que la nostra pantalla té una altura de 240 píxels, dividirem la nostra pantalla en 6 franges de 40 píxels d'altura cadascuna (6*40=240). Mentre la bola estiga passant per la primera franja (0-40) aquesta serà de color roig, a la segona franja (40-80) la pintarem de color taronja. A la tercera (80-120) groga, (120-160) verda, (160-200) blava i finalment a l'última franja (200-240) serà de color morat.</p>
<p>Traduit al llenguatge natural podria ser: si la posició (posY) de la boleta esta entre 0 i 40 pinta-la de roig, sino si la boleta esta entre 40 i 40 pinta-la de taronja sino si ....</p>
<p>Al final el resultat de l'aplicació podria ser el següent:</p>
<p><center>
<kbd style="border:1px solid black;"><img alt="Boleta" src="assets/Act323.gif"/></kbd>
</center></p>
<p><strong>Ampliació:</strong> Observa els codis rgb dels colors i intenta que el canvi de color de la boleta siga gradual i no de cop.</p>
</details>
<h3 id="estructura-de-seleccio-multiple">Estructura de selecció múltiple</h3>
<p>Treballem a continuació l'estructura de selecció múltiple: <strong>switch case</strong>. Per poder treballar amb el switch li afegirem alguna funcionalitat nova al nostre joc. Es tracta de poder interaccionar amb la boleta, és a dir, es pretén que quan premem al teclat algun cursor (dalt, baix, esquerra, dreta) la boleta es menege en eixa direcció o se li done alguna classe d'impuls cap a eixa direcció concreta.</p>
<p>Per poder aconseguir això hem d'usar un <strong>esdeveniment</strong> que ens ofereix la llibreria de <strong>Processing IDE</strong>. Aquest esdeveniment es diu <strong>keyPressed</strong> i ve en forma de funció en la que podem escriure tot el codi que necessite.</p>
<p>Abans de passar a fer l'activitat 10, entra al <strong>Reference de Processing IDE</strong>, investiga bé què és això del <strong>keyPressed</strong>, com funciona i quines coses es podrien fer.</p>
<details class="question">
<summary>Activitat 10. Boleta amb cursors</summary>
<p>Seguint amb l'exemple de la boleta en Processing IDE, completa el següent codi per tal que quan premem un cursor del nostre teclat, la boleta comence a menejar-se en eixa direcció. A l'inici de l'aplicació, la boleta estarà parada.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">// Variables globals</span>
<span class="kt">int</span><span class="w"> </span><span class="n">posX</span><span class="p">,</span><span class="w"> </span><span class="n">posY</span><span class="p">,</span><span class="w"> </span><span class="n">vel</span><span class="p">;</span>

<span class="c1">// Configuració de l'aplicació (només s'executa una vegada al principi)</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">setup</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">size</span><span class="p">(</span><span class="mi">640</span><span class="p">,</span><span class="mi">480</span><span class="p">);</span><span class="w">  </span><span class="c1">// Grandària de monitor estàndard VGA</span>
<span class="w">    </span><span class="n">posX</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">320</span><span class="p">;</span>
<span class="w">    </span><span class="n">posY</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">50</span><span class="p">;</span>
<span class="w">    </span><span class="n">vel</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">draw</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">clear</span><span class="p">();</span>
<span class="w">    </span><span class="n">background</span><span class="p">(</span><span class="mi">255</span><span class="p">);</span>
<span class="w">    </span><span class="n">ellipse</span><span class="p">(</span><span class="n">posX</span><span class="p">,</span><span class="w"> </span><span class="n">posY</span><span class="p">,</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w"> </span><span class="mi">30</span><span class="p">);</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">posX</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">640</span><span class="w"> </span><span class="p">)</span>
<span class="w">        </span><span class="n">posX</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">keyPressed</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">keyCode</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="n">UP</span><span class="p">:</span>
<span class="w">            </span><span class="c1">// Ací anirà el codi per que la boleta es menege cap amunt</span>
<span class="w">        </span><span class="k">break</span><span class="p">;</span>

<span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="n">DOWN</span><span class="p">:</span>
<span class="w">            </span><span class="c1">// Ací anirà el codi per que la boleta vaja cap avall.</span>
<span class="w">        </span><span class="k">break</span><span class="p">;</span>

<span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="n">LEFT</span><span class="p">:</span>
<span class="w">            </span><span class="c1">// Codi per moure la boleta cap a l'esquerra.</span>
<span class="w">        </span><span class="k">break</span><span class="p">;</span>

<span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="n">RIGHT</span><span class="p">:</span>
<span class="w">            </span><span class="c1">// Codi per moure la boleta cap a la dreta.</span>
<span class="w">        </span><span class="k">break</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div></td></tr></table></div>
</details>
</article>
</div>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": ".", "features": ["navigation.expand", "toc.integrate"], "search": "assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
<script src="assets/javascripts/bundle.b4d07000.min.js"></script>
<script src="js/mathjax.js"></script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
<script "="" src="https://cdnjs.cloudflare.com/ajax/libs/processing.js/1.6.0/processing.min.js"></script>
<script>mermaid.initialize({
    theme: "forest"
});</script></body>
</html>